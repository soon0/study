
## Rdbms 특징
* 정규화하여 관리하는것이 원칙 , 데이터의 중복 불허
* 데이터 모델링 시점에 데이터 정규화(중복제거)를 하면 쿼리 실행 시점에 연속적인 join 수행 --> 쿼리 프로세스 복잡도 증가
* 스키마 수정에 대해 보수적

## Nosql 특징
#### 1. Denormalization : 비정규화 (데이터 중복 허용)
* 장점 : 쿼리에 필요한 모든 데이터를 한 곳에 쿼리 친화적인 구조로 모아놓음 --> 전체적인 쿼리 프로세싱 단순, 수행시간 단축
* 단점 : 다른 도큐먼트나 테이블에 중복 저장 --> 전체 데이터 사이즈 증가 but 빅데이터 솔루션은 전체 시스템의 확장이 자유로워 큰 문제 없음

#### 2. Aggregates : 유연한 스키마
* 복잡하고 다양한 구조의 내부요소를 가지고 있는 데이터 클래스 구성 가능
* 장점
  * 1:n의 관계를 최소화 --> join 연산 줄임 --> 수행시간 단축, 저렴
  * 복잡한 데이터 담을 수 있음 --> 추후 확장성 및 변동성에 대응 가능
  * Shema-less 특성을 이용하여 데이터 모델을 하나의 모델로 합칠 수 있음
  * Ex) 동일한 file 구조로 데이터 보관, 예외사항은 meta로 저장

#### 3. Application side joins
* 쿼리 타임 조인을 최대한 피해 모델 구성해야 하지만 join이 필요한 경우
	1) Join 대상 데이터가 다대다 관계
	2) Join 대상 데이터의 수시 변동
1. 수시로 변동되는 데이터는 rdbms에서 작업, 변동이 없는 데이터는 nosql에 저장
2. nosql의 데이터를 각 각 select하여 application에서 join 
	
## 주요 nosql 데이터 모델링 기법
#### 1. General modeling techniques
##### a. Composite key (복합키)
			i. 하나 이상의 필드를 deliminator를 이용하여 구분
			ii. Ordered KV store : key를 order하여 가지고 있어 조회시 
			iii. Key만 가지고 sorting, grouping 가능
			Ex) Window 폴더 및에 etc 파일 폴더
			
		b. Inverted search index
			i. Value 내용을 key로, key 내용을 value로 하는 패턴
			ii. 검색엔진에서 많이 사용
			iii. 용도에 따라 데이터를 재 모델링 가능
			
	2. Hierarchy model techniques (계층형 데이터 구조 모델링 패턴)
	Row, column을 가지고 있는 테이블 구조의 저장 구조
		a. Tree Aggregation : 트리 구조 자체를 하나의 value에 저장
			i. Json, xml등을 이용하여 트리 구조 정의
			ii. 중간에 데이터 삭제 및 구조 변경 시 연산이 복잡해질 수 있음
			iii. 데이터가 많지 않고, 변경이 적은 경우 적합
		
		b. Materialized Path
			i. Tree 구조를 테이블 저장 시 root에서 부터 현재 노드까지의 전체 경로를 key로 저장
			ii. 손쉽게 데이터를 가져올 수 있음
		
	
Nosql 데이터 모델링 예시
	1. 도메인 모델 파악
		a. 어떤 데이터 개체가 있는지, 개체간 관계 분석
		b. ERD 도식화
	2. 쿼리 결과(데이터 출력형태) 디자인
		a. 도메인 모델 기반 어플리케이션에서 쿼리가 수행되는 결과값을 정함
		b. 출력 형식 기반 필요 쿼리 정의
		c. 출력 데이터 기반 테이블 추출
	
	3. 패턴을 이용한 데이터 모델링
		a. GET/PUT 만으로 데이터를 처리할 수 있는 형태로 재정의
	
	4. 기능 최적화
	
	5. Nosql 선정 및 테스트
		a. 모델링한 데이터 구조를 효과적으로 실행할 수 있는 nosql 검토
		b. 부하테스트, 안정성/확장성 테스트
		c. 여러 개의 nosql을 복합하여 사용 --> rdbms + 여러 nosql 복합적으로 사용하는게 좋음
	6. 선정된 nosql에 최적화 및 하드웨어 디자인
		a. 데이터 모델 최적화
		b. 어플리케이션 인터페이스 설계
구동시킬 하드웨어 디자인!
